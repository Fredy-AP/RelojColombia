<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Suite de Productividad - Pomodoro, Reloj y Cronómetro</title>
  <meta name="description" content="Herramientas gratuitas de productividad: Temporizador Pomodoro, reloj mundial y cronómetro. Mejora tu concentración y gestión del tiempo.">
  <meta name="keywords" content="pomodoro, productividad, gestión tiempo, concentración, cronómetro, reloj">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: #000000;
      background-image: 
        radial-gradient(circle at 20% 50%, #1a237e 0%, transparent 50%),
        radial-gradient(circle at 80% 20%, #0d47a1 0%, transparent 50%),
        radial-gradient(circle at 40% 80%, #1565c0 0%, transparent 50%);
      min-height: 100vh;
      color: #ffffff;
      line-height: 1.6;
      position: relative;
    }

    body::before {
      content: '';
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-image: 
        radial-gradient(2px 2px at 20px 30px, #64b5f6, transparent),
        radial-gradient(2px 2px at 40px 70px, #42a5f5, transparent),
        radial-gradient(1px 1px at 90px 40px, #2196f3, transparent),
        radial-gradient(1px 1px at 130px 80px, #1e88e5, transparent),
        radial-gradient(2px 2px at 160px 30px, #1976d2, transparent);
      background-repeat: repeat;
      background-size: 200px 100px;
      animation: sparkle 20s linear infinite;
      opacity: 0.3;
      pointer-events: none;
      z-index: -1;
    }

    @keyframes sparkle {
      0% { transform: translateY(0px); }
      100% { transform: translateY(-100px); }
    }

    .header {
      text-align: center;
      padding: 30px 20px;
      background: linear-gradient(135deg, #1a237e 0%, #0d47a1 100%);
      box-shadow: 0 4px 20px rgba(13, 71, 161, 0.3);
      border-bottom: 2px solid #1976d2;
    }

    .header h1 {
      font-size: 3rem;
      margin-bottom: 15px;
      font-weight: 700;
      background: linear-gradient(45deg, #64b5f6, #2196f3, #1976d2);
      background-size: 200% 200%;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      animation: gradientShift 3s ease-in-out infinite;
    }

    @keyframes gradientShift {
      0%, 100% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
    }

    .header p {
      font-size: 1.2rem;
      opacity: 0.9;
      max-width: 600px;
      margin: 0 auto;
      color: #bbdefb;
    }

    .nav-tabs {
      display: flex;
      justify-content: center;
      gap: 15px;
      padding: 30px 20px;
      flex-wrap: wrap;
    }

    .tab-btn {
      background: linear-gradient(135deg, #1565c0 0%, #0d47a1 100%);
      border: 2px solid #1976d2;
      color: #ffffff;
      padding: 15px 30px;
      border-radius: 30px;
      cursor: pointer;
      font-size: 1.1rem;
      font-weight: 600;
      transition: all 0.4s ease;
      box-shadow: 0 4px 15px rgba(13, 71, 161, 0.3);
      position: relative;
      overflow: hidden;
    }

    .tab-btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
      transition: left 0.5s;
    }

    .tab-btn:hover::before {
      left: 100%;
    }

    .tab-btn:hover, .tab-btn.active {
      background: linear-gradient(135deg, #2196f3 0%, #1565c0 100%);
      transform: translateY(-3px) scale(1.05);
      box-shadow: 0 8px 25px rgba(33, 150, 243, 0.4);
      border-color: #42a5f5;
    }

    .main-content {
      display: flex;
      justify-content: center;
      align-items: flex-start;
      gap: 40px;
      padding: 30px 20px;
      flex-wrap: wrap;
    }

    .tool-container {
      background: linear-gradient(135deg, #1a237e 0%, #0d47a1 100%);
      border: 2px solid #1976d2;
      border-radius: 25px;
      padding: 50px;
      text-align: center;
      box-shadow: 
        0 10px 40px rgba(13, 71, 161, 0.4),
        inset 0 1px 0 rgba(255, 255, 255, 0.1);
      max-width: 450px;
      width: 100%;
      display: none;
      position: relative;
      overflow: hidden;
    }

    .tool-container::before {
      content: '';
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: conic-gradient(from 0deg, transparent, #2196f3, transparent);
      animation: rotate 4s linear infinite;
      opacity: 0.1;
    }

    @keyframes rotate {
      100% { transform: rotate(360deg); }
    }

    .tool-container.active {
      display: block;
      animation: slideIn 0.5s ease-out;
    }

    @keyframes slideIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .tool-container h2 {
      font-size: 2rem;
      margin-bottom: 20px;
      color: #64b5f6;
      font-weight: 700;
      text-shadow: 0 2px 10px rgba(100, 181, 246, 0.3);
    }

    .timer-display, .clock-display, .stopwatch-display {
      font-size: 4.5rem;
      font-weight: 300;
      margin: 40px 0;
      font-family: 'Courier New', monospace;
      color: #ffffff;
      text-shadow: 
        0 0 10px #2196f3,
        0 0 20px #2196f3,
        0 0 30px #2196f3;
      background: linear-gradient(45deg, #64b5f6, #2196f3);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .session-type {
      font-size: 1.4rem;
      margin-bottom: 30px;
      color: #90caf9;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    .controls {
      display: flex;
      gap: 20px;
      justify-content: center;
      margin-top: 40px;
      flex-wrap: wrap;
    }

    button {
      background: linear-gradient(135deg, #1976d2 0%, #1565c0 100%);
      border: 2px solid #2196f3;
      color: #ffffff;
      padding: 15px 30px;
      border-radius: 25px;
      cursor: pointer;
      font-size: 1.1rem;
      font-weight: 600;
      transition: all 0.3s ease;
      box-shadow: 0 4px 15px rgba(25, 118, 210, 0.3);
      position: relative;
      overflow: hidden;
    }

    button::before {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      width: 0;
      height: 0;
      background: rgba(255, 255, 255, 0.2);
      border-radius: 50%;
      transform: translate(-50%, -50%);
      transition: width 0.3s, height 0.3s;
    }

    button:hover::before {
      width: 300px;
      height: 300px;
    }

    button:hover {
      background: linear-gradient(135deg, #2196f3 0%, #1976d2 100%);
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(33, 150, 243, 0.4);
      border-color: #42a5f5;
    }

    button:disabled {
      opacity: 0.4;
      cursor: not-allowed;
      transform: none;
      background: #424242;
      border-color: #616161;
    }

    #timezoneSelect {
      background: linear-gradient(135deg, #1976d2 0%, #1565c0 100%);
      color: #ffffff;
      border: 2px solid #2196f3;
      padding: 15px 20px;
      border-radius: 20px;
      font-size: 1.1rem;
      font-weight: 600;
      cursor: pointer;
      outline: none;
      box-shadow: 0 4px 15px rgba(25, 118, 210, 0.3);
      transition: all 0.3s ease;
      min-width: 200px;
    }

    #timezoneSelect:hover {
      background: linear-gradient(135deg, #2196f3 0%, #1976d2 100%);
      border-color: #42a5f5;
      box-shadow: 0 6px 20px rgba(33, 150, 243, 0.4);
      transform: translateY(-2px);
    }

    #timezoneSelect option {
      background: #1a237e;
      color: #ffffff;
      padding: 10px;
      border: none;
    }

    .work-mode {
      background: linear-gradient(135deg, #d32f2f 0%, #c62828 100%);
    }

    .break-mode {
      background: linear-gradient(135deg, #00796b 0%, #00695c 100%);
    }

    .progress-bar {
      width: 100%;
      height: 8px;
      background: rgba(255, 255, 255, 0.1);
      border-radius: 4px;
      margin: 30px 0;
      overflow: hidden;
      box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.3);
    }

    .progress-fill {
      height: 100%;
      background: linear-gradient(90deg, #2196f3, #64b5f6, #2196f3);
      background-size: 200% 100%;
      border-radius: 4px;
      transition: width 1s linear;
      animation: progressShine 2s ease-in-out infinite;
    }

    @keyframes progressShine {
      0%, 100% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
    }

    .info-section {
      background: linear-gradient(135deg, #1a237e 0%, #0d47a1 100%);
      border: 2px solid #1976d2;
      border-radius: 25px;
      padding: 40px;
      margin: 30px 20px;
      max-width: 900px;
      margin-left: auto;
      margin-right: auto;
      box-shadow: 0 10px 40px rgba(13, 71, 161, 0.4);
    }

    .info-section h2 {
      font-size: 2.2rem;
      margin-bottom: 20px;
      color: #64b5f6;
      text-shadow: 0 2px 10px rgba(100, 181, 246, 0.3);
    }

    .info-section h3 {
      font-size: 1.5rem;
      margin: 25px 0 15px 0;
      color: #90caf9;
    }

    .info-section p, .info-section li {
      font-size: 1.1rem;
      margin-bottom: 12px;
      color: #e3f2fd;
      line-height: 1.7;
    }

    .info-section ul {
      margin-left: 25px;
    }

    .notification {
      position: fixed;
      top: 30px;
      right: 30px;
      background: linear-gradient(135deg, #1976d2 0%, #0d47a1 100%);
      color: #ffffff;
      padding: 20px 25px;
      border-radius: 15px;
      font-size: 1.1rem;
      font-weight: 600;
      opacity: 0;
      transform: translateX(100%);
      transition: all 0.4s ease;
      z-index: 1000;
      border: 2px solid #2196f3;
      box-shadow: 0 8px 25px rgba(13, 71, 161, 0.4);
      max-width: 350px;
    }

    .notification.show {
      opacity: 1;
      transform: translateX(0);
    }

    .laps {
      margin-top: 30px;
      max-height: 250px;
      overflow-y: auto;
    }

    .lap-time {
      background: linear-gradient(135deg, #1565c0 0%, #0d47a1 100%);
      border: 1px solid #1976d2;
      padding: 12px 20px;
      margin: 8px 0;
      border-radius: 15px;
      font-family: 'Courier New', monospace;
      font-size: 1.1rem;
      color: #e3f2fd;
      box-shadow: 0 2px 8px rgba(13, 71, 161, 0.3);
    }

    .timezone-selector {
      background: rgba(255, 255, 255, 0.2) !important;
      color: white !important;
      border: 1px solid rgba(255, 255, 255, 0.3) !important;
      padding: 12px 16px !important;
      border-radius: 15px !important;
      font-size: 1rem !important;
      cursor: pointer !important;
      backdrop-filter: blur(5px) !important;
      transition: all 0.3s ease !important;
      min-width: 200px !important;
    }

    .timezone-selector:hover {
      background: rgba(255, 255, 255, 0.3) !important;
      transform: translateY(-1px) !important;
    }

    .timezone-selector:focus {
      outline: none !important;
      background: rgba(255, 255, 255, 0.4) !important;
      box-shadow: 0 0 0 2px rgba(255, 255, 255, 0.5) !important;
    }

    .timezone-selector option {
      background: #1a1a2e !important;
      color: white !important;
      padding: 10px !important;
    }

    @media (max-width: 768px) {
      .timer-display, .clock-display, .stopwatch-display {
        font-size: 3rem;
      }
      
      .header h1 {
        font-size: 2.2rem;
      }
      
      .tool-container {
        padding: 30px 20px;
      }
      
      .controls {
        gap: 10px;
      }
      
      button {
        padding: 12px 20px;
        font-size: 1rem;
      }
    }
  </style>
</head>
<body>
  <div class="header">
    <h1>Suite De Productividad</h1>
    <p>Herramientas profesionales para mejorar tu concentración y gestión del tiempo</p>
  </div>

  <div class="nav-tabs">
    <button class="tab-btn active" onclick="showTool('clock')">Reloj Mundial</button>
    <button class="tab-btn" onclick="showTool('pomodoro')">Temporizador Pomodoro</button>
    <button class="tab-btn" onclick="showTool('stopwatch')">Cronómetro</button>
  </div>

  <div class="main-content">
    <!-- Reloj Mundial - Arriba -->
    <div class="tool-container" id="clock">
      <h2>Reloj Mundial</h2>
      <div class="clock-display" id="clockDisplay">00:00:00</div>
      <div class="session-type" id="dateDisplay">Fecha</div>
      <div class="controls">
        <!-- Mejorado el selector de timezone con mejor estilo y funcionalidad -->
        <select id="timezoneSelect" class="timezone-selector">
          <option value="America/Bogota">Bogotá</option>
          <option value="America/New_York">Nueva York</option>
          <option value="America/Los_Angeles">Los Ángeles</option>
          <option value="Europe/London">Londres</option>
          <option value="Europe/Madrid">Madrid</option>
          <option value="Asia/Tokyo">Tokio</option>
          <option value="Asia/Shanghai">Shanghai</option>
          <option value="Australia/Sydney">Sídney</option>
        </select>
      </div>
    </div>

    <!-- Temporizador Pomodoro - Centro -->
    <div class="tool-container" id="pomodoro">
      <h2>Temporizador Pomodoro</h2>
      <div class="session-type" id="sessionType">Trabajo - 25 minutos</div>
      <div class="timer-display" id="timerDisplay">25:00</div>
      <div class="progress-bar">
        <div class="progress-fill" id="progressFill"></div>
      </div>
      <div class="controls">
        <button id="startBtn">Iniciar</button>
        <button id="pauseBtn" disabled>Pausar</button>
        <button id="resetBtn">Reiniciar</button>
      </div>
      <div class="session-type" style="font-size: 0.9rem; margin-top: 15px;">
        Pomodoros completados: <span id="pomodoroCount">0</span>
      </div>
    </div>

    <!-- Cronómetro - Abajo -->
    <div class="tool-container" id="stopwatch">
      <h2>Cronómetro</h2>
      <div class="stopwatch-display" id="stopwatchDisplay">00:00:00</div>
      <div class="controls">
        <button id="stopwatchStartBtn">Iniciar</button>
        <button id="stopwatchPauseBtn" disabled>Pausar</button>
        <button id="stopwatchResetBtn">Reiniciar</button>
        <button id="lapBtn" disabled>Vuelta</button>
      </div>
      <div class="laps" id="laps"></div>
    </div>
  </div>

  <div class="notification" id="notification"></div>

  <script>
    /**
     * EXPLICACIÓN DEL CÓDIGO EN COLOMBIANO PARA ESTUDIANTES
     * 
     * Este código está organizado así, parcero:
     * 
     * 1. VARIABLES GLOBALES (línea ~20):
     *    - Son como cajitas donde guardamos información que necesitamos en toda la aplicación
     *    - pomodoroTimer: guarda el objeto del temporizador
     *    - clockInterval: controla el reloj para que se actualice cada segundo
     * 
     * 2. CLASES (como moldes para crear objetos):
     *    - PomodoroTimer: Es el cerebro del pomodoro, maneja todo el rollo del tiempo
     *    - Stopwatch: Maneja el cronómetro con sus vueltas y eso
     * 
     * 3. MÉTODOS IMPORTANTES:
     *    - constructor(): Es como el "nacimiento" del objeto, aquí se configura todo
     *    - start(): Arranca el timer, como pisar el acelerador
     *    - pause(): Para el timer, como pisar el freno
     *    - reset(): Vuelve todo a cero, como reiniciar el computador
     * 
     * 4. SONIDOS:
     *    - playNotificationSound(): Crea sonidos usando Web Audio API
     *    - Solo suena cuando se COMPLETA una sesión, no al iniciar
     * 
     * 5. ALMACENAMIENTO:
     *    - localStorage: Guarda datos en el navegador para que no se pierdan
     */

    // Variables globales - Aquí guardamos todo lo importante, hermano
    let pomodoroTimer, clockInterval, stopwatchInterval;
    let pomodoroCount = parseInt(localStorage.getItem('pomodoroCount')) || 0;

    /**
     * CLASE POMODORO TIMER
     * Esta clase es la que maneja todo el rollo del pomodoro
     * Es como un chef que cocina el tiempo perfecto para trabajar
     */
    class PomodoroTimer {
      constructor() {
        // Configuración de tiempos - 25 minutos trabajo, 5 descanso
        this.workTime = 25 * 60; // 1500 segundos (25 minutos)
        this.breakTime = 5 * 60; // 300 segundos (5 minutos)
        
        // Estado actual del timer
        this.currentTime = this.workTime;
        this.isRunning = false;
        this.isWorkSession = true; // true = trabajo, false = descanso
        this.timer = null; // Aquí guardamos el setInterval
        
        // Inicializar todo el tinglado
        this.initElements();
        this.bindEvents();
        this.updateDisplay();
        this.updatePomodoroCount();
      }

      // Conectar con los elementos HTML - como enchufar cables
      initElements() {
        this.timerDisplay = document.getElementById('timerDisplay');
        this.sessionType = document.getElementById('sessionType');
        this.progressFill = document.getElementById('progressFill');
        this.notification = document.getElementById('notification');
        this.pomodoroCountDisplay = document.getElementById('pomodoroCount');
        
        this.startBtn = document.getElementById('startBtn');
        this.pauseBtn = document.getElementById('pauseBtn');
        this.resetBtn = document.getElementById('resetBtn');
      }

      // Conectar eventos - como poner las orejas para escuchar clicks
      bindEvents() {
        this.startBtn.addEventListener('click', () => this.start());
        this.pauseBtn.addEventListener('click', () => this.pause());
        this.resetBtn.addEventListener('click', () => this.reset());
      }

      // Arrancar el timer - ¡Dale que vamos!
      start() {
        this.isRunning = true;
        this.startBtn.disabled = true;
        this.pauseBtn.disabled = false;
        
        // setInterval ejecuta código cada segundo (1000ms)
        this.timer = setInterval(() => {
          this.currentTime--; // Restar un segundo
          this.updateDisplay(); // Actualizar lo que ve el usuario
          
          // Si llegamos a cero, completamos la sesión
          if (this.currentTime <= 0) {
            this.completeSession();
          }
        }, 1000);
      }

      // Pausar - como poner en pausa Netflix
      pause() {
        this.isRunning = false;
        this.startBtn.disabled = false;
        this.pauseBtn.disabled = true;
        
        clearInterval(this.timer); // Parar el contador
        this.startBtn.textContent = 'Continuar';
      }

      // Reiniciar todo - volver al punto de partida
      reset() {
        this.isRunning = false;
        clearInterval(this.timer);
        
        // Volver al estado inicial
        this.isWorkSession = true;
        this.currentTime = this.workTime;
        this.startBtn.disabled = false;
        this.pauseBtn.disabled = true;
        this.startBtn.textContent = 'Iniciar';
        
        this.updateDisplay();
        this.showNotification('Timer reiniciado - ¡Listo para un nuevo pomodoro!');
      }

      completeSession() {
        clearInterval(this.timer);
        this.isRunning = false;
        
        // AQUÍ ES DONDE SUENA - solo al completar, no al iniciar
        this.playCompletionSound();
        
        if (this.isWorkSession) {
          // Completamos trabajo, ahora descanso
          pomodoroCount++;
          localStorage.setItem('pomodoroCount', pomodoroCount);
          this.updatePomodoroCount();
          
          this.showNotification('¡Excelente trabajo! 🎉 Tiempo de descanso: 5 minutos');
          this.isWorkSession = false;
          this.currentTime = this.breakTime;
          document.body.className = 'break-mode';
        } else {
          // Completamos descanso, nuevo trabajo
          this.showNotification('¡Descanso completado! 💪 Nuevo pomodoro: 25 minutos');
          this.isWorkSession = true;
          this.currentTime = this.workTime;
          document.body.className = 'work-mode';
        }
        
        // Resetear botones
        this.startBtn.disabled = false;
        this.pauseBtn.disabled = true;
        this.startBtn.textContent = 'Iniciar';
        
        this.updateDisplay();
      }

      // Actualizar lo que ve el usuario - la magia visual
      updateDisplay() {
        const minutes = Math.floor(this.currentTime / 60);
        const seconds = this.currentTime % 60;
        
        // Formatear tiempo como 25:00, 04:30, etc.
        this.timerDisplay.textContent = 
          `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
        
        // Cambiar texto según la sesión
        this.sessionType.textContent = this.isWorkSession ? 
          'Trabajo - 25 minutos' : 'Descanso - 5 minutos';
        
        // Barra de progreso - visual feedback bacano
        const totalTime = this.isWorkSession ? this.workTime : this.breakTime;
        const progress = ((totalTime - this.currentTime) / totalTime) * 100;
        this.progressFill.style.width = `${progress}%`;
      }

      // Actualizar contador de pomodoros completados
      updatePomodoroCount() {
        this.pomodoroCountDisplay.textContent = pomodoroCount;
      }

      // Mostrar notificaciones - como WhatsApp pero en la app
      showNotification(message) {
        this.notification.textContent = message;
        this.notification.classList.add('show');
        
        // Ocultar después de 4 segundos
        setTimeout(() => {
          this.notification.classList.remove('show');
        }, 4000);
      }

      playCompletionSound() {
        try {
          // Web Audio API - crear sonidos programáticamente
          const audioContext = new (window.AudioContext || window.webkitAudioContext)();
          
          // Crear diferentes sonidos para trabajo vs descanso
          if (this.isWorkSession) {
            // Sonido para completar trabajo - más energético
            this.playWorkCompleteSound(audioContext);
          } else {
            // Sonido para completar descanso - más suave
            this.playBreakCompleteSound(audioContext);
          }
        } catch (e) {
          console.log('Audio no disponible en este navegador');
        }
      }

      // Sonido al completar trabajo - energético
      playWorkCompleteSound(audioContext) {
        const oscillator = audioContext.createOscillator();
        const gainNode = audioContext.createGain();
        
        oscillator.connect(gainNode);
        gainNode.connect(audioContext.destination);
        
        // Frecuencias que suenan bien juntas
        oscillator.frequency.setValueAtTime(523, audioContext.currentTime); // Do
        oscillator.frequency.setValueAtTime(659, audioContext.currentTime + 0.2); // Mi
        oscillator.frequency.setValueAtTime(784, audioContext.currentTime + 0.4); // Sol
        
        gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
        gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.8);
        
        oscillator.start(audioContext.currentTime);
        oscillator.stop(audioContext.currentTime + 0.8);
      }

      // Sonido al completar descanso - más relajado
      playBreakCompleteSound(audioContext) {
        const oscillator = audioContext.createOscillator();
        const gainNode = audioContext.createGain();
        
        oscillator.connect(gainNode);
        gainNode.connect(audioContext.destination);
        
        // Sonido más suave para el descanso
        oscillator.frequency.setValueAtTime(440, audioContext.currentTime); // La
        oscillator.frequency.setValueAtTime(523, audioContext.currentTime + 0.3); // Do
        
        gainNode.gain.setValueAtTime(0.2, audioContext.currentTime);
        gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.6);
        
        oscillator.start(audioContext.currentTime);
        oscillator.stop(audioContext.currentTime + 0.6);
      }
    }

    /**
     * FUNCIÓN DEL RELOJ
     * Maneja el reloj mundial con diferentes zonas horarias
     */
    function startClock() {
      const clockDisplay = document.getElementById('clockDisplay');
      const dateDisplay = document.getElementById('dateDisplay');
      const timezoneSelect = document.getElementById('timezoneSelect');
      
      function updateClock() {
        const now = new Date();
        const timezone = timezoneSelect.value;
        
        // Formatear hora según zona horaria
        const timeString = now.toLocaleTimeString('es-CO', {
          timeZone: timezone,
          hour12: false // Formato 24 horas
        });
        
        // Formatear fecha bonita
        const dateString = now.toLocaleDateString('es-CO', {
          timeZone: timezone,
          weekday: 'long',
          year: 'numeric',
          month: 'long',
          day: 'numeric'
        });
        
        clockDisplay.textContent = timeString;
        dateDisplay.textContent = dateString;
      }
      
      // Actualizar inmediatamente y luego cada segundo
      updateClock();
      if (clockInterval) clearInterval(clockInterval);
      clockInterval = setInterval(updateClock, 1000);
      
      timezoneSelect.removeEventListener('change', updateClock);
      timezoneSelect.addEventListener('change', updateClock);
    }

    /**
     * CLASE CRONÓMETRO
     * Para medir tiempos específicos con precisión
     */
    class Stopwatch {
      constructor() {
        this.time = 0; // Tiempo en milisegundos
        this.isRunning = false;
        this.laps = []; // Array para guardar vueltas
        
        this.initElements();
        this.bindEvents();
        this.updateDisplay();
      }
      
      initElements() {
        this.display = document.getElementById('stopwatchDisplay');
        this.startBtn = document.getElementById('stopwatchStartBtn');
        this.pauseBtn = document.getElementById('stopwatchPauseBtn');
        this.resetBtn = document.getElementById('stopwatchResetBtn');
        this.lapBtn = document.getElementById('lapBtn');
        this.lapsContainer = document.getElementById('laps');
      }
      
      bindEvents() {
        this.startBtn.addEventListener('click', () => this.start());
        this.pauseBtn.addEventListener('click', () => this.pause());
        this.resetBtn.addEventListener('click', () => this.reset());
        this.lapBtn.addEventListener('click', () => this.addLap());
      }
      
      start() {
        this.isRunning = true;
        this.startBtn.disabled = true;
        this.pauseBtn.disabled = false;
        this.lapBtn.disabled = false;
        
        // Actualizar cada 10ms para mayor precisión
        this.interval = setInterval(() => {
          this.time += 10;
          this.updateDisplay();
        }, 10);
      }
      
      pause() {
        this.isRunning = false;
        this.startBtn.disabled = false;
        this.pauseBtn.disabled = true;
        this.lapBtn.disabled = true;
        
        clearInterval(this.interval);
        this.startBtn.textContent = 'Continuar';
      }
      
      reset() {
        this.isRunning = false;
        this.time = 0;
        this.laps = [];
        
        clearInterval(this.interval);
        
        this.startBtn.disabled = false;
        this.pauseBtn.disabled = true;
        this.lapBtn.disabled = true;
        this.startBtn.textContent = 'Iniciar';
        
        this.updateDisplay();
        this.updateLaps();
      }
      
      // Agregar vuelta - como en las carreras
      addLap() {
        this.laps.push(this.time);
        this.updateLaps();
      }
      
      // Mostrar tiempo con centésimas de segundo
      updateDisplay() {
        const minutes = Math.floor(this.time / 60000);
        const seconds = Math.floor((this.time % 60000) / 1000);
        const centiseconds = Math.floor((this.time % 1000) / 10);
        
        this.display.textContent = 
          `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}:${centiseconds.toString().padStart(2, '0')}`;
      }
      
      // Mostrar lista de vueltas
      updateLaps() {
        this.lapsContainer.innerHTML = '';
        this.laps.forEach((lapTime, index) => {
          const minutes = Math.floor(lapTime / 60000);
          const seconds = Math.floor((lapTime % 60000) / 1000);
          const centiseconds = Math.floor((lapTime % 1000) / 10);
          
          const lapElement = document.createElement('div');
          lapElement.className = 'lap-time';
          lapElement.textContent = `Vuelta ${index + 1}: ${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}:${centiseconds.toString().padStart(2, '0')}`;
          
          this.lapsContainer.appendChild(lapElement);
        });
      }
    }

    function showTool(toolId) {
      const tools = ['clock', 'pomodoro', 'stopwatch'];
      tools.forEach(id => {
        const tool = document.getElementById(id);
        tool.classList.remove('active');
      });
      document.getElementById(toolId).classList.add('active');
    }

    document.addEventListener('DOMContentLoaded', () => {
      // Crear instancias de las clases - como construir las herramientas
      pomodoroTimer = new PomodoroTimer();
      const stopwatch = new Stopwatch();
      
      // Arrancar el reloj
      startClock();
      
      // Mostrar contador inicial
      document.getElementById('pomodoroCount').textContent = pomodoroCount;
      
      // Mostrar la herramienta activa por defecto
      showTool('clock');
    });
  </script>
</body>
</html>


