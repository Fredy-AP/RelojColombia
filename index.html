<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Suite de Productividad - Pomodoro, Reloj y Cronómetro</title>
  <meta name="description" content="Herramientas gratuitas de productividad: Temporizador Pomodoro, reloj mundial y cronómetro. Mejora tu concentración y gestión del tiempo.">
  <meta name="keywords" content="pomodoro, productividad, gestión tiempo, concentración, cronómetro, reloj">
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Arial, sans-serif;
      background: linear-gradient(135deg, #f8fafc 0%, #ffffff 50%, #f1f5f9 100%);
      color: black;
      margin: 0;
      padding: 20px;
      line-height: 1.6;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
    }

    .header {
      text-align: center;
      padding: 30px 20px;
      background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
      color: white;
      box-shadow: 0 4px 20px rgba(59, 130, 246, 0.3);
      border-radius: 16px;
      margin-bottom: 30px;
      width: 100%;
      max-width: 600px;
    }

    .header h1 {
      font-size: 2.2rem;
      margin: 0 0 10px 0;
      font-weight: 700;
    }

    .header p {
      font-size: 1.1rem;
      margin: 0;
      opacity: 0.95;
    }

    .main-content {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 30px;
      padding: 20px;
      max-width: 500px;
      margin: 0 auto;
    }

    .tools-layout {
      display: flex;
      justify-content: center;
      align-items: flex-start;
      gap: 30px;
      flex-wrap: wrap;
      width: 100%;
      max-width: 1200px;
    }

    .tool-container {
      background: rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(10px);
      border-radius: 20px;
      padding: 40px;
      text-align: center;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
      border: 1px solid rgba(255, 255, 255, 0.2);
      width: 100%;
      max-width: 450px;
    }

    .tool-container.active {
      display: block;
    }

    .clock-container {
      order: 1;
    }

    .pomodoro-container {
      order: 2;
    }

    .stopwatch-container {
      order: 3;
    }

    .sound-controls {
      margin-top: 20px;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
    }

    .volume-slider {
      width: 100px;
      height: 5px;
      background: rgba(255, 255, 255, 0.3);
      border-radius: 5px;
      outline: none;
      -webkit-appearance: none;
    }

    .volume-slider::-webkit-slider-thumb {
      -webkit-appearance: none;
      width: 15px;
      height: 15px;
      background: white;
      border-radius: 50%;
      cursor: pointer;
    }

    .timer-display {
      font-size: 4rem;
      font-weight: bold;
      padding: 30px;
      background: #f8fafc;
      border-radius: 16px;
      margin: 20px 0;
      color: #3b82f6;
      font-family: 'Courier New', monospace;
      border: 3px solid #e2e8f0;
      transition: all 0.3s ease;
    }

    .timer-display.work-mode {
      color: #3b82f6;
      border-color: #3b82f6;
      background: #eff6ff;
    }

    .timer-display.break-mode {
      color: #10b981;
      border-color: #10b981;
      background: #ecfdf5;
    }

    .timer-display.pulse {
      animation: pulse 1s infinite;
    }

    @keyframes pulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.05); }
      100% { transform: scale(1); }
    }

    .status-info {
      margin: 20px 0;
      padding: 15px;
      border-radius: 12px;
      font-weight: 600;
      font-size: 1.1rem;
    }

    .status-info.work-mode {
      background: #eff6ff;
      color: #1d4ed8;
      border: 2px solid #3b82f6;
    }

    .status-info.break-mode {
      background: #ecfdf5;
      color: #059669;
      border: 2px solid #10b981;
    }

    .pomodoro-counter {
      background: #10b981;
      color: white;
      padding: 12px 20px;
      border-radius: 25px;
      font-weight: bold;
      font-size: 1.1rem;
      margin: 20px 0;
      display: inline-block;
    }

    .controls {
      display: flex;
      gap: 15px;
      justify-content: center;
      flex-wrap: wrap;
      margin-top: 30px;
    }

    .btn {
      background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
      color: white;
      border: none;
      padding: 15px 30px;
      border-radius: 10px;
      cursor: pointer;
      font-weight: 600;
      font-size: 16px;
      transition: all 0.3s ease;
      box-shadow: 0 4px 15px rgba(59, 130, 246, 0.3);
      min-width: 120px;
    }

    .btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(59, 130, 246, 0.4);
    }

    .btn:active {
      transform: translateY(0);
    }

    .btn:disabled {
      opacity: 0.6;
      cursor: not-allowed;
      transform: none;
    }

    .btn.pause-btn {
      background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
      box-shadow: 0 4px 15px rgba(245, 158, 11, 0.3);
    }

    .btn.pause-btn:hover {
      box-shadow: 0 6px 20px rgba(245, 158, 11, 0.4);
    }

    .btn.reset-btn {
      background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
      box-shadow: 0 4px 15px rgba(239, 68, 68, 0.3);
    }

    .btn.reset-btn:hover {
      box-shadow: 0 6px 20px rgba(239, 68, 68, 0.4);
    }

    .notification {
      position: fixed;
      bottom: 30px;
      right: 30px;
      background: linear-gradient(135deg, #10b981 0%, #059669 100%);
      color: white;
      padding: 20px 25px;
      border-radius: 12px;
      display: none;
      box-shadow: 0 10px 30px rgba(16, 185, 129, 0.3);
      font-weight: 500;
      z-index: 1000;
      animation: slideIn 0.3s ease;
      max-width: 300px;
    }

    @keyframes slideIn {
      from { transform: translateX(100%); opacity: 0; }
      to { transform: translateX(0); opacity: 1; }
    }

    .progress-bar {
      width: 100%;
      background-color: #ddd;
      border-radius: 15px;
      overflow: hidden;
      margin-bottom: 20px;
    }

    .progress-fill {
      height: 100%;
      width: 0;
      background-color: #4CAF50;
      transition: width 0.5s ease;
    }

    .work-mode {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    }

    .break-mode {
      background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
    }

    @media (max-width: 768px) {
      .timer-display {
        font-size: 3rem;
        padding: 20px;
      }
      
      .pomodoro-container {
        padding: 30px 20px;
      }
      
      .controls {
        flex-direction: column;
        align-items: center;
      }
      
      .btn {
        width: 100%;
        max-width: 200px;
      }
    }
  </style>
</head>
<body>
  <div class="header">
    <h1>Suite de Productividad</h1>
    <p>Herramientas profesionales para mejorar tu concentración y gestión del tiempo</p>
  </div>

  <div class="main-content">
    <!-- Reloj Mundial - Arriba -->
    <div class="tool-container" id="clock">
      <h2>🕐 Reloj Mundial</h2>
      <div class="clock-display" id="clockDisplay">00:00:00</div>
      <div class="session-type" id="dateDisplay">Fecha</div>
      <div class="controls">
        <select id="timezoneSelect" style="background: rgba(255,255,255,0.2); color: white; border: 1px solid rgba(255,255,255,0.3); padding: 10px; border-radius: 15px;">
          <option value="America/Bogota" selected>Bogotá</option>
          <option value="America/New_York">Nueva York</option>
          <option value="America/Los_Angeles">Los Ángeles</option>
          <option value="Europe/London">Londres</option>
          <option value="Europe/Madrid">Madrid</option>
          <option value="Asia/Tokyo">Tokio</option>
        </select>
      </div>
    </div>

    <!-- Temporizador Pomodoro - Centro -->
    <div class="tool-container" id="pomodoro">
      <h2>🍅 Temporizador Pomodoro</h2>
      <div class="session-type" id="sessionType">Trabajo - 25 minutos</div>
      <div class="timer-display" id="timerDisplay">25:00</div>
      <div class="progress-bar">
        <div class="progress-fill" id="progressFill"></div>
      </div>
      <div class="controls">
        <button id="startBtn">Iniciar</button>
        <button id="pauseBtn" disabled>Pausar</button>
        <button id="resetBtn">Reiniciar</button>
      </div>
      <div class="session-type" style="font-size: 0.9rem; margin-top: 15px;">
        Pomodoros completados: <span id="pomodoroCount">0</span>
      </div>
    </div>

    <!-- Cronómetro - Abajo -->
    <div class="tool-container" id="stopwatch">
      <h2>⏱️ Cronómetro</h2>
      <div class="stopwatch-display" id="stopwatchDisplay">00:00:00</div>
      <div class="controls">
        <button id="stopwatchStartBtn">Iniciar</button>
        <button id="stopwatchPauseBtn" disabled>Pausar</button>
        <button id="stopwatchResetBtn">Reiniciar</button>
        <button id="lapBtn" disabled>Vuelta</button>
      </div>
      <div class="laps" id="laps"></div>
    </div>
  </div>

  <div class="notification" id="notification"></div>

  <script>
    /**
     * EXPLICACIÓN DEL CÓDIGO EN COLOMBIANO PARA ESTUDIANTES
     * 
     * Este código está organizado así, parcero:
     * 
     * 1. VARIABLES GLOBALES (línea ~20):
     *    - Son como cajitas donde guardamos información que necesitamos en toda la aplicación
     *    - pomodoroTimer: guarda el objeto del temporizador
     *    - clockInterval: controla el reloj para que se actualice cada segundo
     * 
     * 2. CLASES (como moldes para crear objetos):
     *    - PomodoroTimer: Es el cerebro del pomodoro, maneja todo el rollo del tiempo
     *    - Stopwatch: Maneja el cronómetro con sus vueltas y eso
     * 
     * 3. MÉTODOS IMPORTANTES:
     *    - constructor(): Es como el "nacimiento" del objeto, aquí se configura todo
     *    - start(): Arranca el timer, como pisar el acelerador
     *    - pause(): Para el timer, como pisar el freno
     *    - reset(): Vuelve todo a cero, como reiniciar el computador
     * 
     * 4. SONIDOS:
     *    - playNotificationSound(): Crea sonidos usando Web Audio API
     *    - Solo suena cuando se COMPLETA una sesión, no al iniciar
     * 
     * 5. ALMACENAMIENTO:
     *    - localStorage: Guarda datos en el navegador para que no se pierdan
     */

    // Variables globales - Aquí guardamos todo lo importante, hermano
    let pomodoroTimer, clockInterval, stopwatchInterval;
    let pomodoroCount = parseInt(localStorage.getItem('pomodoroCount')) || 0;

    /**
     * CLASE POMODORO TIMER
     * Esta clase es la que maneja todo el rollo del pomodoro
     * Es como un chef que cocina el tiempo perfecto para trabajar
     */
    class PomodoroTimer {
      constructor() {
        // Configuración de tiempos - 25 minutos trabajo, 5 descanso
        this.workTime = 25 * 60; // 1500 segundos (25 minutos)
        this.breakTime = 5 * 60; // 300 segundos (5 minutos)
        
        // Estado actual del timer
        this.currentTime = this.workTime;
        this.isRunning = false;
        this.isWorkSession = true; // true = trabajo, false = descanso
        this.timer = null; // Aquí guardamos el setInterval
        
        // Inicializar todo el tinglado
        this.initElements();
        this.bindEvents();
        this.updateDisplay();
        this.updatePomodoroCount();
      }

      // Conectar con los elementos HTML - como enchufar cables
      initElements() {
        this.timerDisplay = document.getElementById('timerDisplay');
        this.sessionType = document.getElementById('sessionType');
        this.progressFill = document.getElementById('progressFill');
        this.notification = document.getElementById('notification');
        this.pomodoroCountDisplay = document.getElementById('pomodoroCount');
        
        this.startBtn = document.getElementById('startBtn');
        this.pauseBtn = document.getElementById('pauseBtn');
        this.resetBtn = document.getElementById('resetBtn');
      }

      // Conectar eventos - como poner las orejas para escuchar clicks
      bindEvents() {
        this.startBtn.addEventListener('click', () => this.start());
        this.pauseBtn.addEventListener('click', () => this.pause());
        this.resetBtn.addEventListener('click', () => this.reset());
      }

      // Arrancar el timer - ¡Dale que vamos!
      start() {
        this.isRunning = true;
        this.startBtn.disabled = true;
        this.pauseBtn.disabled = false;
        
        // setInterval ejecuta código cada segundo (1000ms)
        this.timer = setInterval(() => {
          this.currentTime--; // Restar un segundo
          this.updateDisplay(); // Actualizar lo que ve el usuario
          
          // Si llegamos a cero, completamos la sesión
          if (this.currentTime <= 0) {
            this.completeSession();
          }
        }, 1000);
      }

      // Pausar - como poner en pausa Netflix
      pause() {
        this.isRunning = false;
        this.startBtn.disabled = false;
        this.pauseBtn.disabled = true;
        
        clearInterval(this.timer); // Parar el contador
        this.startBtn.textContent = 'Continuar';
      }

      // Reiniciar todo - volver al punto de partida
      reset() {
        this.isRunning = false;
        clearInterval(this.timer);
        
        // Volver al estado inicial
        this.isWorkSession = true;
        this.currentTime = this.workTime;
        this.startBtn.disabled = false;
        this.pauseBtn.disabled = true;
        this.startBtn.textContent = 'Iniciar';
        
        this.updateDisplay();
        this.showNotification('Timer reiniciado - ¡Listo para un nuevo pomodoro!');
      }

      completeSession() {
        clearInterval(this.timer);
        this.isRunning = false;
        
        // AQUÍ ES DONDE SUENA - solo al completar, no al iniciar
        this.playCompletionSound();
        
        if (this.isWorkSession) {
          // Completamos trabajo, ahora descanso
          pomodoroCount++;
          localStorage.setItem('pomodoroCount', pomodoroCount);
          this.updatePomodoroCount();
          
          this.showNotification('¡Excelente trabajo! 🎉 Tiempo de descanso: 5 minutos');
          this.isWorkSession = false;
          this.currentTime = this.breakTime;
          document.body.className = 'break-mode';
        } else {
          // Completamos descanso, nuevo trabajo
          this.showNotification('¡Descanso completado! 💪 Nuevo pomodoro: 25 minutos');
          this.isWorkSession = true;
          this.currentTime = this.workTime;
          document.body.className = 'work-mode';
        }
        
        // Resetear botones
        this.startBtn.disabled = false;
        this.pauseBtn.disabled = true;
        this.startBtn.textContent = 'Iniciar';
        
        this.updateDisplay();
      }

      // Actualizar lo que ve el usuario - la magia visual
      updateDisplay() {
        const minutes = Math.floor(this.currentTime / 60);
        const seconds = this.currentTime % 60;
        
        // Formatear tiempo como 25:00, 04:30, etc.
        this.timerDisplay.textContent = 
          `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
        
        // Cambiar texto según la sesión
        this.sessionType.textContent = this.isWorkSession ? 
          'Trabajo - 25 minutos' : 'Descanso - 5 minutos';
        
        // Barra de progreso - visual feedback bacano
        const totalTime = this.isWorkSession ? this.workTime : this.breakTime;
        const progress = ((totalTime - this.currentTime) / totalTime) * 100;
        this.progressFill.style.width = `${progress}%`;
      }

      // Actualizar contador de pomodoros completados
      updatePomodoroCount() {
        this.pomodoroCountDisplay.textContent = pomodoroCount;
      }

      // Mostrar notificaciones - como WhatsApp pero en la app
      showNotification(message) {
        this.notification.textContent = message;
        this.notification.classList.add('show');
        
        // Ocultar después de 4 segundos
        setTimeout(() => {
          this.notification.classList.remove('show');
        }, 4000);
      }

      playCompletionSound() {
        try {
          // Web Audio API - crear sonidos programáticamente
          const audioContext = new (window.AudioContext || window.webkitAudioContext)();
          
          // Crear diferentes sonidos para trabajo vs descanso
          if (this.isWorkSession) {
            // Sonido para completar trabajo - más energético
            this.playWorkCompleteSound(audioContext);
          } else {
            // Sonido para completar descanso - más suave
            this.playBreakCompleteSound(audioContext);
          }
        } catch (e) {
          console.log('Audio no disponible en este navegador');
        }
      }

      // Sonido al completar trabajo - energético
      playWorkCompleteSound(audioContext) {
        const oscillator = audioContext.createOscillator();
        const gainNode = audioContext.createGain();
        
        oscillator.connect(gainNode);
        gainNode.connect(audioContext.destination);
        
        // Frecuencias que suenan bien juntas
        oscillator.frequency.setValueAtTime(523, audioContext.currentTime); // Do
        oscillator.frequency.setValueAtTime(659, audioContext.currentTime + 0.2); // Mi
        oscillator.frequency.setValueAtTime(784, audioContext.currentTime + 0.4); // Sol
        
        gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
        gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.8);
        
        oscillator.start(audioContext.currentTime);
        oscillator.stop(audioContext.currentTime + 0.8);
      }

      // Sonido al completar descanso - más relajado
      playBreakCompleteSound(audioContext) {
        const oscillator = audioContext.createOscillator();
        const gainNode = audioContext.createGain();
        
        oscillator.connect(gainNode);
        gainNode.connect(audioContext.destination);
        
        // Sonido más suave para el descanso
        oscillator.frequency.setValueAtTime(440, audioContext.currentTime); // La
        oscillator.frequency.setValueAtTime(523, audioContext.currentTime + 0.3); // Do
        
        gainNode.gain.setValueAtTime(0.2, audioContext.currentTime);
        gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.6);
        
        oscillator.start(audioContext.currentTime);
        oscillator.stop(audioContext.currentTime + 0.6);
      }
    }

    /**
     * FUNCIÓN DEL RELOJ
     * Maneja el reloj mundial con diferentes zonas horarias
     */
    function startClock() {
      const clockDisplay = document.getElementById('clockDisplay');
      const dateDisplay = document.getElementById('dateDisplay');
      const timezoneSelect = document.getElementById('timezoneSelect');
      
      function updateClock() {
        const now = new Date();
        const timezone = timezoneSelect.value;
        
        // Formatear hora según zona horaria
        const timeString = now.toLocaleTimeString('es-CO', {
          timeZone: timezone,
          hour12: false // Formato 24 horas
        });
        
        // Formatear fecha bonita
        const dateString = now.toLocaleDateString('es-CO', {
          timeZone: timezone,
          weekday: 'long',
          year: 'numeric',
          month: 'long',
          day: 'numeric'
        });
        
        clockDisplay.textContent = timeString;
        dateDisplay.textContent = dateString;
      }
      
      // Actualizar inmediatamente y luego cada segundo
      updateClock();
      if (clockInterval) clearInterval(clockInterval);
      clockInterval = setInterval(updateClock, 1000);
      
      // Escuchar cambios de zona horaria
      timezoneSelect.addEventListener('change', updateClock);
    }

    /**
     * CLASE CRONÓMETRO
     * Para medir tiempos específicos con precisión
     */
    class Stopwatch {
      constructor() {
        this.time = 0; // Tiempo en milisegundos
        this.isRunning = false;
        this.laps = []; // Array para guardar vueltas
        
        this.initElements();
        this.bindEvents();
        this.updateDisplay();
      }
      
      initElements() {
        this.display = document.getElementById('stopwatchDisplay');
        this.startBtn = document.getElementById('stopwatchStartBtn');
        this.pauseBtn = document.getElementById('stopwatchPauseBtn');
        this.resetBtn = document.getElementById('stopwatchResetBtn');
        this.lapBtn = document.getElementById('lapBtn');
        this.lapsContainer = document.getElementById('laps');
      }
      
      bindEvents() {
        this.startBtn.addEventListener('click', () => this.start());
        this.pauseBtn.addEventListener('click', () => this.pause());
        this.resetBtn.addEventListener('click', () => this.reset());
        this.lapBtn.addEventListener('click', () => this.addLap());
      }
      
      start() {
        this.isRunning = true;
        this.startBtn.disabled = true;
        this.pauseBtn.disabled = false;
        this.lapBtn.disabled = false;
        
        // Actualizar cada 10ms para mayor precisión
        this.interval = setInterval(() => {
          this.time += 10;
          this.updateDisplay();
        }, 10);
      }
      
      pause() {
        this.isRunning = false;
        this.startBtn.disabled = false;
        this.pauseBtn.disabled = true;
        this.lapBtn.disabled = true;
        
        clearInterval(this.interval);
        this.startBtn.textContent = 'Continuar';
      }
      
      reset() {
        this.isRunning = false;
        this.time = 0;
        this.laps = [];
        
        clearInterval(this.interval);
        
        this.startBtn.disabled = false;
        this.pauseBtn.disabled = true;
        this.lapBtn.disabled = true;
        this.startBtn.textContent = 'Iniciar';
        
        this.updateDisplay();
        this.updateLaps();
      }
      
      // Agregar vuelta - como en las carreras
      addLap() {
        this.laps.push(this.time);
        this.updateLaps();
      }
      
      // Mostrar tiempo con centésimas de segundo
      updateDisplay() {
        const minutes = Math.floor(this.time / 60000);
        const seconds = Math.floor((this.time % 60000) / 1000);
        const centiseconds = Math.floor((this.time % 1000) / 10);
        
        this.display.textContent = 
          `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}:${centiseconds.toString().padStart(2, '0')}`;
      }
      
      // Mostrar lista de vueltas
      updateLaps() {
        this.lapsContainer.innerHTML = '';
        this.laps.forEach((lapTime, index) => {
          const minutes = Math.floor(lapTime / 60000);
          const seconds = Math.floor((lapTime % 60000) / 1000);
          const centiseconds = Math.floor((lapTime % 1000) / 10);
          
          const lapElement = document.createElement('div');
          lapElement.className = 'lap-time';
          lapElement.textContent = `Vuelta ${index + 1}: ${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}:${centiseconds.toString().padStart(2, '0')}`;
          
          this.lapsContainer.appendChild(lapElement);
        });
      }
    }

    document.addEventListener('DOMContentLoaded', () => {
      // Crear instancias de las clases - como construir las herramientas
      pomodoroTimer = new PomodoroTimer();
      const stopwatch = new Stopwatch();
      
      // Arrancar el reloj
      startClock();
      
      // Mostrar contador inicial
      document.getElementById('pomodoroCount').textContent = pomodoroCount;
    });
  </script>
</body>
</html>


